{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Msi/Desktop/AI/Gym Website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Msi/Desktop/AI/Gym Website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Msi\\\\Desktop\\\\AI\\\\Gym Website\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useRef}from\"react\";import{Button,Form,Toast}from\"react-bootstrap\";import{useSendPasswordResetEmail,useSignInWithEmailAndPassword}from\"react-firebase-hooks/auth\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import auth from\"../../../firebase.init\";import Loading from\"../../Shared/Loading/Loading\";import SocialLogin from\"../SocialLogin/SocialLogin\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _location$state,_location$state$from;var emailRef=useRef('');var passwordRef=useRef('');var navigate=useNavigate();var location=useLocation();var from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||\"/\";var errorElement;var _useSignInWithEmailAn=useSignInWithEmailAndPassword(auth),_useSignInWithEmailAn2=_slicedToArray(_useSignInWithEmailAn,4),signInWithEmailAndPassword=_useSignInWithEmailAn2[0],user=_useSignInWithEmailAn2[1],loading=_useSignInWithEmailAn2[2],error=_useSignInWithEmailAn2[3];var _useSendPasswordReset=useSendPasswordResetEmail(auth),_useSendPasswordReset2=_slicedToArray(_useSendPasswordReset,2),sendPasswordResetEmail=_useSendPasswordReset2[0],sending=_useSendPasswordReset2[1];if(loading||sending){return/*#__PURE__*/_jsx(Loading,{});}if(user){navigate(from,{replace:true});}if(error){errorElement=/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[\"Error: \",error.message]})});}var handleSubmit=function handleSubmit(event){event.preventDefault();var email=emailRef.current.value;var password=passwordRef.current.value;signInWithEmailAndPassword(email,password);};var navigateRegister=function navigateRegister(event){navigate('/register');};var resetPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var email;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:email=emailRef.current.value;if(!email){_context.next=7;break;}_context.next=4;return sendPasswordResetEmail(email);case 4:toast(\"sent email\");_context.next=8;break;case 7:toast('please enter your email');case 8:case\"end\":return _context.stop();}}},_callee);}));return function resetPassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"login container \",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-4 text-center\",children:\"Please Log in\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{ref:emailRef,type:\"email\",placeholder:\"Enter email\",required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{ref:passwordRef,type:\"password\",placeholder:\"Password\",required:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary w-50 d-block mx-auto mb-3\",type:\"submit\",children:\"Login\"})]}),errorElement,/*#__PURE__*/_jsxs(\"p\",{children:[\"New to Fitness Gym?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"text-primary pe-auto text-decoration-none\",onClick:navigateRegister,children:\"Please Register\"}),\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Forgot password?\",\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link text-primary pe-auto text-decoration-none\",onClick:resetPassword,children:\"Reset password\"}),\" \"]}),/*#__PURE__*/_jsx(SocialLogin,{}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default Login;","map":{"version":3,"sources":["C:/Users/Msi/Desktop/AI/Gym Website/src/Pages/Login/Login/Login.js"],"names":["React","useRef","Button","Form","Toast","useSendPasswordResetEmail","useSignInWithEmailAndPassword","Link","useLocation","useNavigate","auth","Loading","SocialLogin","ToastContainer","toast","Login","emailRef","passwordRef","navigate","location","from","state","pathname","errorElement","signInWithEmailAndPassword","user","loading","error","sendPasswordResetEmail","sending","replace","message","handleSubmit","event","preventDefault","email","current","value","password","navigateRegister","resetPassword"],"mappings":"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","sourcesContent":["import React, { useRef } from \"react\";\nimport { Button, Form, Toast } from \"react-bootstrap\";\nimport { useSendPasswordResetEmail, useSignInWithEmailAndPassword } from \"react-firebase-hooks/auth\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport auth from \"../../../firebase.init\";\nimport Loading from \"../../Shared/Loading/Loading\";\nimport SocialLogin from \"../SocialLogin/SocialLogin\";\n import { ToastContainer, toast } from \"react-toastify\";\n import \"react-toastify/dist/ReactToastify.css\";\n import './Login.css'\n\nconst Login = () => {\n    const emailRef = useRef('')\n    const passwordRef = useRef('')\n\n    const navigate = useNavigate()\n\n    const location= useLocation()\n\n    let from = location.state?.from?.pathname || \"/\";\n\n    let errorElement\n\n    const [\n  signInWithEmailAndPassword,\n  user,\n  loading,\n  error,\n] = useSignInWithEmailAndPassword(auth);\n\n  const [sendPasswordResetEmail, sending] =\n    useSendPasswordResetEmail(auth);\n\n\n    if(loading || sending){\n      return <Loading></Loading>\n    }\n\n  if(user){\n    navigate(from, { replace: true });\n  }\n\n  if (error) {\n\n    errorElement = <div>\n        <p className='text-danger'>Error: {error.message}</p>\n      </div>\n    \n  }\n\n    const handleSubmit = event =>{\n        event.preventDefault();\n        const email = emailRef.current.value;\n        const password = passwordRef.current.value;\n\n        signInWithEmailAndPassword(email, password)\n       \n    }\n\n    const navigateRegister = event =>{\n        navigate('/register')\n    }\n\n\n    const resetPassword = async() =>{\n      const email = emailRef.current.value;\n      if(email){\n        await sendPasswordResetEmail(email);\n        toast(\"sent email\");\n      } else{\n        toast('please enter your email')\n      }\n    }\n\n  return (\n    <div className=\"login container \">\n      <h2 className=\"mt-4 text-center\">Please Log in</h2>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            ref={emailRef}\n            type=\"email\"\n            placeholder=\"Enter email\"\n            required\n          />\n        </Form.Group>\n\n        <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            ref={passwordRef}\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n          />\n        </Form.Group>\n\n        <Button variant=\"primary w-50 d-block mx-auto mb-3\" type=\"submit\">\n          Login\n        </Button>\n      </Form>\n      {errorElement}\n      <p>\n        New to Fitness Gym?{\" \"}\n        <Link\n          to=\"/register\"\n          className=\"text-primary pe-auto text-decoration-none\"\n          onClick={navigateRegister}\n        >\n          Please Register\n        </Link>{\" \"}\n      </p>\n      <p>\n        Forgot password?{\" \"}\n        <button\n          \n          className=\"btn btn-link text-primary pe-auto text-decoration-none\"\n          onClick={resetPassword}\n        >\n          Reset password\n        </button>{\" \"}\n      </p>\n      <SocialLogin></SocialLogin>\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}